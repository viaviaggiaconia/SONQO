:root{
  --accent:#5aa9d6;
  --text:#ffffff;
  --shadow:rgba(0,0,0,.25);
  color-scheme: dark;
}

*{ box-sizing:border-box }
html,body{ height:100% }

body{
  margin:0;
  font:500 16px/1.35 system-ui,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:#070c14; /* piÃ¹ profondo */
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Background layer */
#bg-root{ position:fixed; inset:0; overflow:hidden; z-index:-2 }
#bg-root>*{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; opacity:0; transition:opacity .6s ease;
  will-change:opacity;
}
#bg-root>*.active{ opacity:1 }

@media (prefers-reduced-motion: reduce){
  #bg-root>*{ transition:none }
}

/* Vaso */
#vase-wrap{
  position:fixed;
  left:50%; transform:translateX(-50%);
  bottom:calc(112px + env(safe-area-inset-bottom, 0px));
  width:min(420px, 70vw);
  aspect-ratio:3 / 4;
  pointer-events:none;
  z-index:-1;
  filter: drop-shadow(0 22px 46px rgba(0,0,0,.38));
}
#vaseCanvas, #vaseOutline{
  position:absolute; inset:0; width:100%; height:100%; display:block;
}
#vaseOutline{ opacity:.92 }

/* Overlay UI */
.ui-overlay{
  position:fixed; left:0; right:0;
  bottom:env(safe-area-inset-bottom, 0px);
  padding:12px 16px calc(18px + env(safe-area-inset-bottom, 0px));
  display:grid; gap:.75rem; pointer-events:none;
  background:
    radial-gradient(80% 40% at 50% 90%, rgba(0,0,0,.38) 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.22) 100%);
  z-index:10;
}
.controlbar{
  display:grid; grid-template-columns:auto 1fr auto auto; gap:.5rem;
  align-items:center; pointer-events:auto;
  backdrop-filter:blur(14px) saturate(125%);
  background:color-mix(in oklab, #000 16%, transparent 84%);
  border:1px solid color-mix(in oklab, #fff 9%, transparent 91%);
  border-radius:14px; padding:.6rem .75rem; box-shadow:0 10px 32px var(--shadow);
}
.btn{
  appearance:none; border:0; border-radius:12px; padding:.55rem .9rem;
  font-weight:700; letter-spacing:.2px; cursor:pointer; user-select:none;
  background:var(--accent); color:#05121f; box-shadow:0 2px 10px var(--shadow);
  transition:transform .06s ease, filter .15s ease;
}
.btn:hover{ filter:brightness(1.06) }
.btn:active{ transform:translateY(1px) }

input[type="text"]{
  width:100%; min-width:140px;
  background:color-mix(in oklab, #fff 7%, transparent 93%);
  border:1px solid color-mix(in oklab, #fff 16%, transparent 84%);
  color:#fff; padding:.55rem .75rem; border-radius:12px;
  box-shadow:inset 0 0 0 9999px color-mix(in oklab, #000 38%, transparent 62%);
}
input::placeholder{ color:#cfe7f7b3 }

.count{
  font-variant-numeric:tabular-nums; opacity:.9; padding:0 .25rem;
}

:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:3px;
  border-radius:10px;
}

@media (max-width:520px){
  .controlbar{
    grid-template-columns:auto 1fr auto;
    grid-auto-rows:auto;
  }
  .count{ display:none }
}

